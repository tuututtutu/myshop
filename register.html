<!DOCTYPE html>
<html lang="fr">
<head>
<link rel="stylesheet" href="style.css">
<meta charset="UTF-8">
<title>Cr√©er un compte ‚Äì MyShop</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script src="https://cdn.jsdelivr.net/npm/gsap@3/dist/gsap.min.js"></script>

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:Segoe UI,sans-serif}
body{background:radial-gradient(circle at top,#0f172a,#020617);color:#e5e7eb;min-height:100vh}

header{
display:flex;justify-content:space-between;align-items:center;
padding:22px 60px;
background:rgba(2,6,23,.85);
backdrop-filter:blur(14px);
border-bottom:1px solid rgba(255,255,255,.05)
}
header h1{color:#38bdf8;font-size:2rem}
nav a, nav span{margin-left:28px;color:#cbd5f5;text-decoration:none}
nav a:hover{color:#38bdf8}

.container{max-width:420px;margin:120px auto}
.form{
background:linear-gradient(180deg,#0f172a,#020617);
padding:40px;border-radius:18px;
box-shadow:0 20px 50px rgba(56,189,248,.18)
}
input{
width:100%;padding:14px;margin-bottom:18px;
border-radius:12px;border:none;
background:#020617;color:white
}
button{
width:100%;padding:15px;
border:none;border-radius:14px;
background:linear-gradient(135deg,#38bdf8,#0ea5e9);
font-weight:700;
cursor:pointer;
}
</style>
</head>

<body>

<header>
<h1>MyShop</h1>
<nav>
<a href="index.html">Accueil</a>
<a href="produit.html">Produits</a>
<a href="panier.html">Panier</a>
<a href="connexion.html" id="loginLink">Connexion</a>
<span id="username"></span>
<a href="#" id="logout" style="display:none;">D√©connexion</a>
</nav>
</header>

<div class="container">
<form class="form" id="registerForm">
<h2 style="text-align:center;margin-bottom:25px">Cr√©er un compte</h2>

<input type="text" id="name" placeholder="Nom" required>
<input type="email" id="email" placeholder="Email" required>
<input type="password" id="password" placeholder="Mot de passe" required>

<button type="submit">Cr√©er le compte</button>
</form>
</div>

<script>
gsap.from(".form",{opacity:0,y:50,duration:.7})
</script>

<!-- ‚úÖ REGISTER + AUTH -->
<script>
document.getElementById("registerForm").addEventListener("submit", function(e) {
  e.preventDefault();

  const user = {
    name: document.getElementById("name").value,
    email: document.getElementById("email").value,
    password: document.getElementById("password").value
  };

  localStorage.setItem("user", JSON.stringify(user));
  localStorage.setItem("loggedIn", "true");

  window.location.href = "index.html";
});
</script>

<!-- üîê NAVBAR AUTH PROPRE -->
<script>
document.addEventListener("DOMContentLoaded", () => {
  const loginLink = document.getElementById("loginLink");
  const logoutBtn = document.getElementById("logout");
  const usernameSpan = document.getElementById("username");

  const loggedIn = localStorage.getItem("loggedIn");
  const user = JSON.parse(localStorage.getItem("user"));

  if (loggedIn === "true" && user) {
    loginLink.style.display = "none";
    logoutBtn.style.display = "inline-block";
    usernameSpan.textContent = "üë§ " + user.name;
  } else {
    loginLink.style.display = "inline-block";
    logoutBtn.style.display = "none";
    usernameSpan.textContent = "";
  }

  logoutBtn.addEventListener("click", (e) => {
    e.preventDefault();
    localStorage.removeItem("loggedIn");
    localStorage.removeItem("user");
    window.location.href = "connexion.html";
  });
});
</script>

</body>
</html>
